
<div class="container mb-30">
  <h1>Submit Chapter Documentation</h1>
  <hr>
</div>
<div class="card mat-elevation-z20" style="min-height: 300px !important;">
  <form enctype="multipart/form-data" [formGroup]='ProjectChapterForm' (ngSubmit)="publish()">
      <div class="center">
        <table>
          <tr>
            <!-- <td>
              <mat-form-field [draggable]='true' appearance='outline' style="color: red !important;">
                <mat-label>Select Supervisor</mat-label>
                <mat-select formControlName='supervisor'>
                  <mat-option *ngFor="let supervisor of supervisors" [value]='supervisor'>
                    {{ supervisor }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </td> -->
            <td>
              <mat-form-field [draggable]='true' appearance='outline' style="color: red !important;">
                <mat-label>Choose Chapter Number</mat-label>
                <mat-select formControlName='chapter_number'>
                  <mat-option *ngFor="let chapter of chapters;index as i" [value]='chapter'>
                    {{ chapter }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </td>
          </tr>
        </table>
      </div>

      <!-- <input type="file" (change)="readUrl($event)" formControlName='chapter_file' class="full-width"> -->
      <input type="file" (change)="onFileSelect($event)" formControlName='chapter_file' class="full-width">
      <img [src]="src" [alt]="src" width="50" height="50" *ngIf="src">
      <br>
      <button class="button" mat-button><mat-spinner *ngIf='loading' [diameter]='30'></mat-spinner><span *ngIf="!loading"><mat-icon>upload_file</mat-icon> Upload Chapter</span></button>
  </form>
</div>
<br>
<div>
  {{this.ProjectChapterForm.value | json}}
</div>
